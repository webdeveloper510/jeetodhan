jQuery(document).ready(function(){if(0!==($mo=jQuery)(".fm-form").length){var e=$mo(".fm-form").attr("id").replace("form","");if(e in mofmvar.formDetails){var o=mofmvar.formDetails[e].verifyKey,s=mofmvar.formDetails[e].emailkey,t=mofmvar.formDetails[e].phonekey,r=mofmvar.formDetails[e].email_show?s:t,a='<div class="wdform-element-section wd-flex  wd-flex-row wd-width-100"><input class="" id="mo_getotp_button'+e+'" style="width:100%;margin: 10px 0 0 0 !important;" type="button" value="'+mofmvar.buttontext+'" /></div>';$mo(".button-submit").attr("onclick","").unbind("click"),$mo(a+'<div class="wdform-element-section wd-flex  wd-flex-row wd-width-100"><div id="mo_message'+e+'"  style="width:100%; display: none; font-size: 16px; padding: 10px 20px;border-radius: 10px; margin-top: 16px;"></div></div>').insertAfter($mo(r).parent());let i=$mo(this);$mo(i).find(".fm-submit-loading").closest(".button-submit").click(function(s){$mo(".button-submit").prop("disabled",!1),s.preventDefault(),$mo.ajax({url:mofmvar.siteURL+"/?option=miniorange-fm-verify-code",type:"POST",data:{otp_token:$mo(o).val(),sub_field:$mo(r).val()},crossDomain:!0,dataType:"json",success:function(s){"success"===s.result?($mo("#wd_required_"+o).remove(),fm_submit_form(e)):showErrorMessage(e,o,s.message)},error:function(s){showErrorMessage(e,o,"Please validate the form.")}})}),$mo("#mo_getotp_button"+e).click(function(o){var o=$mo(r).val();$mo("#mo_message"+e).empty(),$mo("#mo_message"+e).append("<div class= 'moloader'></div>"),$mo("#mo_message"+e).show(),$mo.ajax({url:mofmvar.siteURL+"/?option=miniorange-fm-ajax-verify",type:"POST",data:{user_email:o,user_phone:o},crossDomain:!0,dataType:"json",success:function(o){"success"===o.result?($mo("#mo_message"+e).empty(),$mo("#mo_message"+e).append(o.message),$mo("#mo_message"+e).css({"background-color":"#dbfff7",color:"#008f6e"})):($mo("#mo_message"+e).empty(),$mo("#mo_message"+e).append(o.message),$mo("#mo_message"+e).css({"background-color":"#ffefef",color:"#ff5b5b"}))},error:function(e){}})})}}});function showErrorMessage(e,o,s){var t=$mo(o).parent().parent().parent().attr("wdid");$mo("#form"+e+" #wd_required_"+t).remove(),$mo("#form"+e+" div[wdid='"+t+"'] .wdform-label-section:first .wdform-label").addClass("error_label"),$mo("#form"+e+" div[wdid='"+t+"'] .wdform-element-section:first").parent().parent().append("<div id='wd_required_"+t+"' class='fm-not-filled'>"+s+"</div>"),scroll_on_element(e)}