let $mo=jQuery;function is_already_verified(o,e){moforminator.validated[e]&&($mo("#mo_send_otp_"+e+o).val("✔").attr("disabled",!0),$mo("#mo_send_otp_"+e+o).attr("style","background:green !important;width:auto;padding: 12px 5px;color: #ffffff;"))}function addButtonAndFields(o,e){let m='style="margin-top:10px;"',t='style="margin:0px;"',i='<div  class="vfb-item" id="mo_message'+e+o+'" style="width:100%; display: none; font-size: 16px; padding: 10px 20px;border-radius: 10px; margin-top: 16px;"></div>',n='<div id="mo_verify-container'+e+o+'" hidden="" class="forminator-field" ><label class="forminator-label" for="mo_verify_otp">'+moforminator.fieldText+'</label><input type="text" id="mo_verify_otp_'+e+o+'" class="forminator-input"name="mo_verify_otp" /></div>',a='<div id = "forminator-field'+e+o+'" class = "forminator-field" hidden="" '+m+'"><input  type = "button" name = "mo_verify_button_'+e+o+'" class = "forminator-button forminator-button-submit"  id = "mo_verify_button_'+e+o+'" '+t+' value = "Verify OTP"/></div >',r='<div class = "forminator-field" '+m+'><input  type = "button" name = "mo_send_otp_'+e+o+'" class = "forminator-button forminator-button-submit" id = "mo_send_otp_'+e+o+'"'+t+' value = "'+moforminator.buttontext+'"/></div >'+i+n+a,s=$mo("input[name='"+moforminator.formDetails[o][e+"key"]+"']").parent();$mo(r).insertAfter(s)}function bindSendOTPButton(o,e){img="<div class= 'moloader'></div>",$mo("#mo_send_otp_"+e+o).click((function(){var m=$mo("input[name='"+moforminator.formDetails[o][e+"key"]+"']").val();$mo("#mo_message"+e+o).empty(),$mo("#mo_message"+e+o).append(img),$mo("#mo_message"+e+o).show(),$mo.ajax({url:moforminator.siteURL,type:"POST",data:{user_email:m,user_phone:m,otpType:e,security:moforminator.gnonce,action:moforminator.gaction},crossDomain:!0,dataType:"json",success:function(m){"success"===m.result?($mo("#mo_message"+e+o).empty(),$mo("#mo_message"+e+o).append(m.message),$mo("#mo_message"+e+o).css({"background-color":"#dbfff7",color:"#008f6e"}),$mo("#mo_verify-container"+e+o+",#forminator-field"+e+o).show()):($mo("#mo_message"+e+o).empty(),$mo("#mo_message"+e+o).append(m.message),$mo("#mo_message"+e+o).css({"background-color":"#ffefef",color:"#ff5b5b"}))},error:function(o){}})}))}function bindVerifyButton(o,e){img="<div class= 'moloader'></div>",$mo("#mo_verify_button_"+e+o).click((function(){var m=$mo("#mo_verify_otp_"+e+o).val(),t=$mo("input[name='"+moforminator.formDetails[o][e+"key"]+"']").val();$mo("#mo_message"+e+o).empty(),$mo("#mo_message"+e+o).append(img),$mo("#mo_message"+e+o).show(),$mo.ajax({url:moforminator.siteURL,type:"POST",data:{user_email:t,user_phone:t,otp_token:m,otpType:e,security:moforminator.vnonce,action:moforminator.vaction},crossDomain:!0,dataType:"json",success:function(m){"success"===m.result?($mo("#mo_message"+e+o).hide(),$mo("#mo_verify-container"+e+o+",#forminator-field"+e+o).hide(),$mo("#mo_send_otp_"+e+o).val("✔").attr("disabled",!0),$mo("#mo_send_otp_"+e+o).attr("style","background:green !important;width:auto;margin:0;padding: 7px 5px;margin-top: 1px;color: #ffffff;")):($mo("#mo_message"+e+o).empty(),$mo("#mo_message"+e+o).append(m.message),$mo("#mo_message"+e+o).css({"background-color":"#ffefef",color:"#ff5b5b"}))},error:function(o){}})}))}$mo(document).ready((function(){$mo("form.forminator-custom-form").each((function(){let o=$mo(this).find("input[name='form_id']").val();o in moforminator.formDetails&&moforminator.otpType.forEach((function(e){addButtonAndFields(o,e),bindSendOTPButton(o,e),bindVerifyButton(o,e),is_already_verified(o,e)}))}))}));