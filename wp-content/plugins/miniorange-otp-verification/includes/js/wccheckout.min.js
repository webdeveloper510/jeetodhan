jQuery(document).ready(function () { $mo = jQuery; var e = mowccheckout.paymentMethods, i = mowccheckout.popupEnabled && !mowccheckout.isLoggedIn; $mo("#order_verify_field").hide(); var o = function () { $mo(".woocommerce-billing-fields").length > 0 && ($mo("#miniorange_otp_token_submit").show(), $mo("#miniorange_otp_token_submit").css({ "margin-right": "0" }), $mo("#mo_validation_wrapper").insertAfter("#billing_" + mowccheckout.otpType + "_field"), $mo("#order_verify_field").length > 0 ? $mo("#order_verify_field").show() : i && $mo("#place_order").hide()) }, t = function () { $mo(".woocommerce-billing-fields").length > 0 && ($mo("#miniorange_otp_token_submit").hide(), $mo("#order_verify_field").length > 0 ? ($mo("#order_verify_field").hide(), $mo("#mo_message").hide(), $mo("#order_verify").val("")) : $mo("#place_order").show()) }, n = function () { var i = !mowccheckout.selectivePaymentEnabled; mowccheckout.popupEnabled ? mowccheckout.popupEnabled && ($mo('form[name="checkout"]').append('<div id="myModal" class="modal"><div class="modal-content"><div class="modal-header"> <i><span style="margin-left:90%;" class="close" id="close"> close </span></i> </div><div class="modal-body"><div id="mo_message"></div><div id="mo_validate_field" style="margin:1em"><input type="text" name="order_verify" autofocus="true" placeholder="" id="mo_otp_token" required="true" style="color: #000;font-family: Helvetica,sans-serif;padding: 7px;text-shadow: 1px 1px 0 #fff;width: 100%;border-radius: 2px;" class="mo_customer_validation-textbox" autofocus="true"/><input type="button" name="miniorange_otp_validate_submit"  style="margin-top:1%;width:100%" id="miniorange_otp_validate_submit" class="miniorange_otp_token_submit"  value="Validate OTP" /></div></div></div></div>'), $mo("#miniorange_otp_token_submit").click(function (e) { 0 == $mo("#mo_message").length && $mo('<div id="mo_message"></div>').insertBefore("#mo_validate_field") })) : $mo("#miniorange_otp_token_submit").click(function (e) { 0 == $mo("#mo_message").length && $mo('<div id="mo_message"></div>').insertBefore("#order_verify_field") }), $mo("input[name=payment_method]").each(function () { var o = $mo(this).val(); if (i = !1, $mo(this).is(":checked") && e.hasOwnProperty(o) || !mowccheckout.selectivePaymentEnabled) return i = !0, !1 }), i ? o() : t() }; setTimeout(function () { n(), $mo(".woocommerce-checkout-review-order").click(function () { n() }) }, 200), $mo(document).ajaxComplete(function (e, i, o) { o.url.includes("wc-ajax=update_order_review") && n() }) });