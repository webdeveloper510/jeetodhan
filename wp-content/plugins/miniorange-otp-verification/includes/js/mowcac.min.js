jQuery(document).ready(function(){($mo=jQuery)("#enter_otp_field").hide(),focusChecks()});let button='<button type="button" onclick="sendOTP()" class="button miniorange_otp_token_submit" id="miniorange_otp_token_submit">'+mowcac.buttontext+"</button>";var img="<div class= 'moloader'></div>",html=button+"<div id='mo_message' style='width:100%; display: none; font-size: 16px; padding: 10px 20px;border-radius: 10px; margin-top: 16px'>"+img+"</div>";function focusChecks(){"phone"==mowcac.otpType?$mo("form.edit-account #billing_phone").on("change paste keyup",function(){$mo(this).val()===mowcac.fieldValue?removeOTPField():(insertOTPField(),$mo("#enter_otp_field").insertAfter("#mo_message").show())}):$mo("form.edit-account #account_email").on("change paste keyup",function(){$mo(this).val()===mowcac.fieldValue?removeOTPField():(insertOTPField(),$mo("#enter_otp_field").insertAfter("#mo_message").show())})}function sendOTP(){if("phone"==mowcac.otpType)var e=$mo("#billing_phone").val();else var e=$mo("#account_email").val();$mo("#mo_message").empty(),$mo("#mo_message").append(img),$mo("#mo_message").show(),$mo.ajax({url:mowcac.siteURL,type:"POST",data:{action:mowcac.generateURL,user_input:e,security:mowcac.nonce},crossDomain:!0,dataType:"json",success:function(e){"success"==e.result?($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css({"background-color":"#dbfff7",color:"#008f6e"})):($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css({"background-color":"#ffefef",color:"#ff5b5b"}))},error:function(e){$mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css({"background-color":"#ffefef",color:"#ff5b5b"})}})}function removeOTPField(){$mo("#miniorange_otp_token_submit").remove(),$mo("#enter_otp_field").hide(),$mo("#mo_message").remove()}function insertOTPField(){0==$mo("#miniorange_otp_token_submit").length&&("phone"==mowcac.otpType?$mo(html).insertAfter("#billing_phone_field"):$mo(html).insertAfter("#account_email"))}