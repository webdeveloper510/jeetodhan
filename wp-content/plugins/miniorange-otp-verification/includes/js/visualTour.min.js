let pointerNumber=0;function startTour(t){moTour.tourData&&(Object.keys(moTour.currentPage).length>1||($mo("#moblock").show(),createCard(t)))}function createCard(t){let e=moTour.tourData[t];if(!$mo("#"+e.targetE).is(":visible")&&(0!=t||""!=e.targetE)){if(t++,moTour.tourData[t]&&$mo("#"+e.targetE).is(":visible"))createCard(t);else{resetTour(),tourComplete();return}}let o='<div id="mo-card" class="mo-card mo-'+e.cardSize+'"><div class="mo-tour-arrow mo-point-'+e.pointToSide+'"><i style="color:#ffffff;position: relative;" class=" mo-dashicons dashicons dashicons-arrow-'+e.pointToSide+'"></i></div><div class="mo-tour-content-area mo-point-'+e.pointToSide+' pt-mo-4"><div class="mo-tour-title">'+e.titleHTML+'</div><div class="mo-tour-content">'+e.contentHTML+'</div><div id="tour_svg"><img '+(e.img?"":"hidden")+' src="'+e.img+'" style="margin:auto;" alt=""></div><div class="mo-tour-button-area flex flex-2 gap-mo-4 pr-mo-8"></div>',r='<input type="button"  class="mo-button inverted mo-tour-primary-btn" style="width:100% !important;" value="'+e.buttonText+'">';$mo("#moblock").empty(),$mo(o).insertAfter("#moblock"),$mo(".mo-tour-button-area").append('<input type="button"  class="mo-button secondary mo-skip-btn" style="margin-left:30px;" value="Skip Tour">'),$mo(".mo-tour-button-area").append(r),(""==e.pointToSide||"center"==e.pointToSide)&&$mo(".mo-card").attr("style","box-shadow:0px 0px 0px 3px #979393"),e.targetE&&getPointerPosition(e.targetE,e.pointToSide),$mo(".mo-tour-primary-btn").click(function(){$mo(".mo-target-index").removeClass("mo-target-index"),$mo(".mo-card").remove(),t+=1,moTour.tourData[t]?createCard(t):(resetTour(),tourComplete())}),$mo(".mo-skip-btn").click(function(){$mo(".mo-target-index").removeClass("mo-target-index"),$mo(".mo-card").remove(),resetTour(),tourComplete()})}function getPointerPosition(t,e){let o=document.getElementById(t).getBoundingClientRect(),r=document.getElementById("mo-card").getBoundingClientRect(),i,a;switch(e){case"up":i=o.left+(o.width-r.width)/2,a=o.top+o.height+5;break;case"down":i=o.left+(o.width-r.width)/2,a=o.top-r.height;break;case"left":i=o.left+o.width,a=o.top+(o.height-r.height)/2;break;case"right":i=o.left-r.width,a=o.top+(o.height-r.height)/2}a<0&&($mo(".mo-tour-arrow>i").css("top","calc(50% - 0.6em + "+a+"px)"),a=0),$mo(".mo-card").css({top:a+$mo(window).scrollTop()-25,left:i+$mo(window).scrollLeft()-180,"margin-top":"0","margin-left":"0",position:"absolute"}),$mo("#"+t).addClass("mo-target-index"),document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}function resetTour(){pointerNumber=0,$mo("#moblock").hide()}function tourComplete(){$mo.ajax({url:moTour.siteURL,type:"POST",data:{doneTour:!0,pageID:moTour.pageID,security:moTour.tnonce,action:moTour.ajaxAction},crossDomain:!0,dataType:"json"})}($mo=jQuery)(window).load(function(){moTour.tourTaken||startTour(pointerNumber),$mo("#restart_tour_button").click(function(){resetTour(),startTour(pointerNumber)})});