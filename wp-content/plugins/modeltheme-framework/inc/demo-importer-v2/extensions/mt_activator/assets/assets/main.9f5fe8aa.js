import{r as i,a as O,d as X,o as d,c as f,w as t,b as U,t as $,u as n,e as L,f as a,C as M,g as W,I as Z,p as ee,h as te,i as g,_ as V,j as ae,k as oe,T as ne,l as N,m as h,n as se,q as le,s as ue,Q as ce,v as ie,x as re,y as de,z as pe,B as Y,A as K,F as _e,D as q,E as me,G as z,H as ve,J as fe,S as ge,K as he,M as ye,L as E,N as ke,O as De,P as be,R as Se,U as Ce}from"./vendor.663ed706.js";const C=i({});var F=()=>O.create({baseURL:C.value.apiLocation+"mt-activator/",timeout:1e8,headers:{"X-WP-Nonce":C.value.nonce}}),we=()=>{const e=i(),s=i(!0),o=()=>{F().get("getSystemData").then(({data:r})=>{e.value=r,s.value=!1})};return o(),{configurationDataSource:e,configurationDataSourceIsLoading:s,loadConfigurationData:o,configurationColumns:[{title:"Config Name",dataIndex:"title",key:"title"},{title:"Current",dataIndex:"value",key:"value",align:"center"},{title:"Recommended",dataIndex:"required",key:"required",align:"center"},{title:"Passed",dataIndex:"pass",key:"pass",slots:{customRender:"pass"},align:"center"}]}};var G=(e,s)=>{const o=e.__vccOpts||e;for(const[l,c]of s)o[l]=c;return o};const H=e=>(ee("data-v-70fa849c"),e=e(),te(),e),Ae=H(()=>g("p",null,[h("Here is an overview of your current server configuration info. Learn how to optimize your server for our themes "),g("a",{href:"https://modeltheme.com/how-to-optimize-server-requirements-for-modeltheme-wordpress-themes/"},"here.")],-1)),Ie=H(()=>g("br",null,null,-1)),Fe=X({props:{userData:null,pluginData:null},setup(e){const s=i("1"),o=i(!1);C.value.nonce,C.value.install,C.value.apiLocation;const{configurationDataSource:l,configurationDataSourceIsLoading:c,configurationColumns:r}=we(),m=async u=>{try{o.value=!0,await navigator.clipboard.writeText(JSON.stringify(u))}catch{o.value=!1}},_=location.protocol==="https:";return(u,p)=>{const y=V,v=ae,D=oe,S=ne,I=N;return d(),f(I,{title:"Settings Overview"},{extra:t(()=>[_?(d(),U("a",{key:0,onClick:p[0]||(p[0]=A=>m([n(l),e.pluginData])),href:"#"},$(o.value?"Copied":"Copy"),1)):L("",!0)]),default:t(()=>[a(S,{activeKey:s.value,"onUpdate:activeKey":p[1]||(p[1]=A=>s.value=A)},{default:t(()=>[a(D,{key:"1",tab:"Configuration"},{default:t(()=>[Ae,Ie,a(v,{x:4,loading:n(c),dataSource:n(l),columns:n(r),pagination:!1},{pass:t(({text:A,record:T})=>[A===!0?(d(),f(n(M),{key:0,style:{color:"#52C41A"}})):(d(),f(y,{key:1,placement:"left",title:T.notice},{default:t(()=>[a(n(W),{style:{color:"#FF4D4F"}})]),_:2},1032,["title"]))]),_:1},8,["loading","dataSource","columns"])]),_:1}),a(D,{key:"2",tab:"Installed Plugins"},{default:t(()=>[a(v,{loading:e.pluginData.pluginDataSourceIsLoading.value,dataSource:e.pluginData.pluginDataSource.value,columns:e.pluginData.pluginColumns},{status:t(({text:A})=>[A===!0?(d(),f(y,{key:0,placement:"top",title:"Installed"},{default:t(()=>[a(n(M),{style:{color:"#52C41A"}})]),_:1})):(d(),f(y,{key:1,placement:"top",title:"Not installed"},{default:t(()=>[a(n(Z),{style:{color:"#1890FF"}})]),_:1}))]),_:1},8,["loading","dataSource","columns"])]),_:1}),a(D,{key:"3",tab:"User data"},{default:t(()=>[a(v,{loading:e.userData.userDataSourceIsLoading.value,dataSource:e.userData.userDataSource.value,columns:e.userData.userColumns,pagination:!1},null,8,["loading","dataSource","columns"])]),_:1})]),_:1},8,["activeKey"])]),_:1})}}});var xe=G(Fe,[["__scopeId","data-v-70fa849c"]]);const Xe=g("p",null,"Let's keep in touch!",-1),$e=g("br",null,null,-1),Le=["href"],Pe=X({setup(e){const s=[{link:"https://modeltheme.ticksy.com/",content:"Get Help"},{link:"https://modeltheme.com/theme-category/wordpress-plugins/",content:"More Plugins"},{link:"https://modeltheme.com/theme-category/wordpress-themes/",content:"More Themes"}];return(o,l)=>{const c=se,r=le,m=N;return d(),f(m,{title:"Useful Links"},{default:t(()=>[Xe,$e,a(r,{bordered:"","data-source":s},{renderItem:t(({item:_})=>[a(c,null,{default:t(()=>[g("a",{target:"_blank",href:_.link},$(_.content),9,Le)]),_:2},1024)]),_:1})]),_:1})}}});var B=O.create({baseURL:"//api.modeltheme.com/activator/",timeout:1e4}),Te=()=>{const e=F(),s=i(),o=i(!0),l=()=>{e.get("plugins").then(({data:r})=>{s.value=r,o.value=!1})},c=[{title:"Name",dataIndex:"name",key:"name",width:"150px"},{title:"Installed",dataIndex:"active",key:"active",slots:{customRender:"status"},width:"100px",align:"center"},{title:"Version",dataIndex:"version",key:"version",width:"100px",align:"center"}];return l(),{pluginDataSource:s,pluginDataSourceIsLoading:o,loadPluginData:l,pluginColumns:c}},Re=()=>{const e=F(),s=i(),o=i(!0),l=()=>{e.get("userContactData").then(({data:r})=>{s.value=r,o.value=!1})};return l(),{userDataSource:s,userDataSourceIsLoading:o,loadUserData:l,userColumns:[{title:"Name",dataIndex:"key",key:"key"},{title:"Value",dataIndex:"value",key:"value"}]}};const w=i(!1),b=i(!1);i("Loading...");const k=i(!1),x=i("An unexpected error has occurred");function P(){setTimeout(()=>{window.history.replaceState&&window.history.replaceState(null,"",window.location.href),window.location=window.location.href},3e3)}function Ue(e,s,o){b.value=!0,B.post("register-key.php",{key:e.code,productId:C.value.tid,data:{user:o.userDataSource.value,plugins:s.pluginDataSource.value}}).then(({data:l})=>{w.value=!0,k.value=!1,x.value="This page will refresh in 3 seconds...",F().post("save-api",{code:e.code}).then(()=>{P(),b.value=!1})}).catch(l=>{k.value=!l.response.data.success,w.value=!0,x.value=l.response.data.message,b.value=!1})}const Ne=g("p",null," Please input the purchase code you received with the theme in order to activate your copy of the theme. ",-1),Be=h(" I Agree to the "),je=g("a",{target:"_blank",href:"https://modeltheme.com/terms-conditions/"}," Terms and Condition ",-1),Oe=h(" and "),Me=g("a",{target:"_blank",href:"https://modeltheme.com/privacy-policy/"}," Privacy Policy ",-1),Ve=h("Activate"),Ye=h("Check for active license"),Ke=X({props:{userData:null,pluginData:null},setup(e){const s=e,o=ue({code:"",acceptTerms:!1}),l=i(),c={code:[{validator:(_,u)=>u?Promise.resolve():Promise.reject("You must enter your purchase code.")},{validator:(_,u)=>u.length!==36?Promise.reject("Length should be 36 characters including '-'"):Promise.resolve()},{validator:(_,u)=>/^[0-9A-F]{8}-[0-9A-F]{4}-[1][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(u)||/^[0-9A-F]{8}-[0-9A-F]{4}-[2][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(u)||/^[0-9A-F]{8}-[0-9A-F]{4}-[3][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(u)||/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(u)||/^[0-9A-F]{8}-[0-9A-F]{4}-[5][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(u)?Promise.resolve():Promise.reject("Invalid code format")}],acceptTerms:[{type:"boolean",validator:(_,u)=>u?Promise.resolve():Promise.reject("You must accept our Terms And Conditions in order to activate")}]},r=()=>{l.value.validate().then(()=>{Ue(o,s.pluginData,s.userData)})},m=()=>{b.value=!0,l.value.validate().then(()=>{F().post("save-api",{code:o.code}).then(()=>{b.value=!1,P()}).catch(_=>{k.value=!_.response.data.success,w.value=!0,x.value=_.response.data.message,b.value=!1})})};return(_,u)=>{const p=ie,y=re,v=de,D=pe,S=Y,I=V,A=K,T=_e,Q=N;return d(),f(Q,{title:"Registration"},{default:t(()=>[Ne,!n(b)&&n(w)?(d(),f(p,{key:0,message:n(k)?"Invalid license key!":"License activated!",description:n(x),type:n(k)?"error":"success","show-icon":""},null,8,["message","description","type"])):L("",!0),a(T,{ref_key:"formRef",ref:l,rules:c,model:n(o)},{default:t(()=>[a(v,{labelCol:{span:24},label:"Purchase Code","has-feedback":"",ref:"codeRef",name:"code"},{default:t(()=>[a(y,{value:n(o).code,"onUpdate:value":u[0]||(u[0]=R=>n(o).code=R),autocomplete:"off",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"},null,8,["value"])]),_:1},512),a(v,{name:"acceptTerms",ref:"acceptTermsRef"},{default:t(()=>[a(D,{checked:n(o).acceptTerms,"onUpdate:checked":u[1]||(u[1]=R=>n(o).acceptTerms=R)},{default:t(()=>[Be,je,Oe,Me]),_:1},8,["checked"])]),_:1},512),a(v,null,{default:t(()=>[a(A,null,{default:t(()=>[a(S,{type:"primary",onClick:r},{default:t(()=>[Ve]),_:1}),a(S,{type:"dashed",onClick:m},{default:t(()=>[Ye]),_:1}),a(I,{title:"If you already activated your license on this website and in the meantime you uninstalled wordpress click the 'Check for active license' button. "},{default:t(()=>[a(n(ce))]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}});var qe=(e,s,o)=>{b.value=!0,B.post("remove-website.php",{key:e,data:{user:o.userDataSource.value,plugins:s.pluginDataSource.value}}).then(({data:l})=>{F().get("remove-api").then(()=>{w.value=!0,b.value=!1,k.value=!1})}).catch(()=>{w.value=!1,k.value=!0,x.value="Something unexpected happened to our servers."})};const ze=h(" Reload "),Ee=h(" Reload "),Ge=g("br",null,null,-1),He=g("br",null,null,-1),Je=h(" You cannot use this license with another website anymore, please purchase another license. "),Qe=g("br",null,null,-1),We=h("Remove from this website"),Ze=X({props:{result:null,pluginData:null,userData:null},setup(e){const s=i(!1),o=i(!1);return q(w,()=>{console.log(w),w.value&&!k.value&&o.value&&(s.value=!0)}),(l,c)=>{const r=Y,m=he,_=ye,u=E;return d(),U("div",null,[a(_,{visible:n(k),"onUpdate:visible":c[0]||(c[0]=p=>me(k)?k.value=p:null),centered:"",footer:null},{default:t(()=>[a(m,{status:"error",title:n(x)},{extra:t(()=>[a(r,{key:"console",type:"primary",onClick:n(P)},{default:t(()=>[ze]),_:1},8,["onClick"])]),_:1},8,["title"])]),_:1},8,["visible"]),a(_,{visible:s.value,"onUpdate:visible":c[1]||(c[1]=p=>s.value=p),centered:"",footer:null},{default:t(()=>[a(m,{status:"success",title:"Successfully deactivated your license for this website!","sub-title":"If you want to reimport a premade demo, please re-activate the theme using your license key"},{extra:t(()=>[a(r,{key:"console",type:"primary",onClick:n(P)},{default:t(()=>[Ee]),_:1},8,["onClick"])]),_:1})]),_:1},8,["visible"]),a(u,{spinning:n(b)},{default:t(()=>{var p,y;return[((p=e.result.payload)==null?void 0:p.licenseStatus)==="not_active"||e.result.payload===void 0?(d(),f(Ke,{key:0,userData:e.userData,pluginData:e.pluginData},null,8,["userData","pluginData"])):((y=e.result.payload)==null?void 0:y.licenseStatus)==="active_another_website"?(d(),f(m,{key:1,title:"Your license is active on another website!"},z({icon:t(()=>[a(n(ve),{color:"red"})]),_:2},[e.result.payload!==void 0?{name:"extra",fn:t(()=>{var v;return[g("p",null,[h(" You must disable your license on "+$((v=e.result.payload)==null?void 0:v.website)+" to continue. ",1),Ge])]})}:void 0]),1024)):(d(),f(m,{key:2,title:"Great, your license is active!"},z({icon:t(()=>[a(n(ge))]),_:2},[e.result.payload!==void 0?{name:"extra",fn:t(()=>{var v,D,S;return[g("p",null,[h(" Your license's support is active until "+$(new Date((v=e.result.payload)==null?void 0:v.supportedUntil).toLocaleDateString("en-US"))+". ",1),He,((D=e.result.payload)==null?void 0:D.triesLeft)===0?(d(),U(fe,{key:0},[Je],64)):L("",!0)]),Qe,a(r,{type:"primary",onClick:c[2]||(c[2]=I=>{n(qe)(n(C).code,e.pluginData,e.userData),o.value=!0}),disabled:((S=e.result.payload)==null?void 0:S.triesLeft)===0,danger:""},{default:t(()=>[We]),_:1},8,["disabled"])]})}:void 0]),1024))]}),_:1},8,["spinning"])])}}});const et=h("Not Active"),tt=h("Active"),at=X({props:{dataset:null},setup(e){const s=e;C.value=s.dataset,console.log(C.value);const o=Re(),l=Te(),c=i({success:!0,message:void 0,payload:{licenseStatus:"not_active",website:location.href,triesLeft:5,supportedUntil:"",licenseType:"",name:""}}),r=i([o.userDataSourceIsLoading,l.pluginDataSourceIsLoading]);return q(()=>r.value,()=>{r.value.every(m=>!m.value)&&(s.dataset.code!==""||s.dataset.code!=null)&&s.dataset.code!==""&&B.post("license-status.php",{key:s.dataset.code,data:{user:o.userDataSource.value,plugins:l.pluginDataSource.value}}).then(({data:m})=>{c.value=m})},{deep:!0}),(m,_)=>{const u=ke,p=De,y=be,v=K,D=Se,S=E;return d(),f(S,{spinning:n(o).userDataSourceIsLoading.value&&n(l).pluginDataSourceIsLoading.value,tip:"Loading license status..."},{default:t(()=>[a(p,{title:"Welcome to Licenses Manager",class:"site-page-header"},{tags:t(()=>{var I;return[((I=c.value.payload)==null?void 0:I.licenseStatus)==="not_active"||c.value.payload===void 0?(d(),f(u,{key:0,color:"red"},{default:t(()=>[et]),_:1})):(d(),f(u,{key:1,color:"green"},{default:t(()=>[tt]),_:1}))]}),_:1}),a(D,null,{default:t(()=>[a(y,{span:24},{default:t(()=>[a(Ze,{"user-data":n(o),"plugin-data":n(l),result:c.value},null,8,["user-data","plugin-data","result"])]),_:1}),a(y,{span:24,justify:"end"},{default:t(()=>[n(o).userDataSourceIsLoading.value===!1&&n(l).pluginDataSourceIsLoading.value===!1?(d(),f(v,{key:0,size:20,style:{width:"100%"},direction:"vertical"},{default:t(()=>[a(xe,{userData:n(o),pluginData:n(l)},null,8,["userData","pluginData"]),a(Pe)]),_:1})):L("",!0)]),_:1})]),_:1})]),_:1},8,["spinning"])}}});var ot=G(at,[["__scopeId","data-v-7ebbee0e"]]);const j=document.getElementById("app"),J=j==null?void 0:j.dataset;console.log(J);const nt=Ce(ot,{dataset:J});nt.mount("#app");
